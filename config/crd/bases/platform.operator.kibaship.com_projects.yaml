---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: projects.platform.operator.kibaship.com
spec:
  group: platform.operator.kibaship.com
  names:
    kind: Project
    listKind: ProjectList
    plural: projects
    singular: project
  scope: Cluster
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Project is the Schema for the projects API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: ProjectSpec defines the desired state of Project.
            properties:
              applicationTypes:
                description: |-
                  Application type configurations defining resource limits and policies
                  for different types of applications that can be deployed in this project
                properties:
                  dockerImage:
                    description: Docker image application configuration
                    properties:
                      defaultLimits:
                        description: Default resource limits for applications of this
                          type
                        properties:
                          cpu:
                            description: CPU limit in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          storage:
                            description: Storage limit (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: true
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for applications of
                          this type
                        properties:
                          max:
                            description: Maximum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                  gitRepository:
                    description: Git repository application configuration
                    properties:
                      defaultLimits:
                        description: Default resource limits for applications of this
                          type
                        properties:
                          cpu:
                            description: CPU limit in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          storage:
                            description: Storage limit (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: true
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for applications of
                          this type
                        properties:
                          max:
                            description: Maximum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                  mysql:
                    description: MySQL single-instance database configuration
                    properties:
                      defaultLimits:
                        description: Default resource limits for applications of this
                          type
                        properties:
                          cpu:
                            description: CPU limit in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          storage:
                            description: Storage limit (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: true
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for applications of
                          this type
                        properties:
                          max:
                            description: Maximum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                  mysqlCluster:
                    description: MySQL cluster configuration (disabled by default)
                    properties:
                      defaultLimits:
                        description: Default resource limits for cluster applications
                          of this type
                        properties:
                          cpu:
                            description: CPU limit per node in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit per node (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          nodes:
                            description: Default number of nodes in the cluster
                            format: int32
                            minimum: 1
                            type: integer
                          storage:
                            description: Storage limit per node (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: false
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for cluster applications
                          of this type
                        properties:
                          max:
                            description: Maximum resource limits per node
                            properties:
                              cpu:
                                description: CPU limit per node in cores (e.g., "2",
                                  "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit per node (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              nodes:
                                description: Default number of nodes in the cluster
                                format: int32
                                minimum: 1
                                type: integer
                              storage:
                                description: Storage limit per node (e.g., "20Gi",
                                  "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits per node
                            properties:
                              cpu:
                                description: CPU limit per node in cores (e.g., "2",
                                  "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit per node (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              nodes:
                                description: Default number of nodes in the cluster
                                format: int32
                                minimum: 1
                                type: integer
                              storage:
                                description: Storage limit per node (e.g., "20Gi",
                                  "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                  postgres:
                    description: PostgreSQL single-instance database configuration
                    properties:
                      defaultLimits:
                        description: Default resource limits for applications of this
                          type
                        properties:
                          cpu:
                            description: CPU limit in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          storage:
                            description: Storage limit (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: true
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for applications of
                          this type
                        properties:
                          max:
                            description: Maximum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits
                            properties:
                              cpu:
                                description: CPU limit in cores (e.g., "2", "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              storage:
                                description: Storage limit (e.g., "20Gi", "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                  postgresCluster:
                    description: PostgreSQL cluster configuration (disabled by default)
                    properties:
                      defaultLimits:
                        description: Default resource limits for cluster applications
                          of this type
                        properties:
                          cpu:
                            description: CPU limit per node in cores (e.g., "2", "0.5")
                            pattern: ^[0-9]+(\.[0-9]+)?$
                            type: string
                          memory:
                            description: Memory limit per node (e.g., "4Gi", "512Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                          nodes:
                            description: Default number of nodes in the cluster
                            format: int32
                            minimum: 1
                            type: integer
                          storage:
                            description: Storage limit per node (e.g., "20Gi", "100Mi")
                            pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                            type: string
                        type: object
                      enabled:
                        default: false
                        description: Whether this application type is enabled in the
                          project
                        type: boolean
                      resourceBounds:
                        description: Resource bounds (min/max) for cluster applications
                          of this type
                        properties:
                          max:
                            description: Maximum resource limits per node
                            properties:
                              cpu:
                                description: CPU limit per node in cores (e.g., "2",
                                  "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit per node (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              nodes:
                                description: Default number of nodes in the cluster
                                format: int32
                                minimum: 1
                                type: integer
                              storage:
                                description: Storage limit per node (e.g., "20Gi",
                                  "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                          min:
                            description: Minimum resource limits per node
                            properties:
                              cpu:
                                description: CPU limit per node in cores (e.g., "2",
                                  "0.5")
                                pattern: ^[0-9]+(\.[0-9]+)?$
                                type: string
                              memory:
                                description: Memory limit per node (e.g., "4Gi", "512Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                              nodes:
                                description: Default number of nodes in the cluster
                                format: int32
                                minimum: 1
                                type: integer
                              storage:
                                description: Storage limit per node (e.g., "20Gi",
                                  "100Mi")
                                pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                                type: string
                            type: object
                        type: object
                    required:
                    - enabled
                    type: object
                type: object
              volumes:
                description: Volume configuration for the project
                properties:
                  maxStorageSize:
                    description: Maximum storage size for volumes (e.g., "100Gi",
                      "1Ti")
                    pattern: ^[0-9]+(\.[0-9]+)?(Mi|Gi|Ti)$
                    type: string
                type: object
            type: object
          status:
            description: ProjectStatus defines the observed state of Project.
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
