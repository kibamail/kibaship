apiVersion: platform.operator.kibaship.com/v1alpha1
kind: ApplicationDomain
metadata:
  labels:
    app.kubernetes.io/name: kibaship-operator
    app.kubernetes.io/managed-by: kustomize
    platform.operator.kibaship.com/application: project-myproject-app-frontend-kibaship-com
    platform.operator.kibaship.com/domain-type: default
    platform.kibaship.com/uuid: 123e4567-e89b-12d3-a456-426614174000
    platform.kibaship.com/project-uuid: 987fcdeb-51a2-43d7-8f9e-d2c3b4a5e6f7
  name: project-myproject-app-frontend-kibaship-com-default
  namespace: myproject-dev
spec:
  # Reference to the parent Application
  applicationRef:
    name: project-myproject-app-frontend-kibaship-com
  # The full domain name generated by the operator
  domain: frontend-abc12345.myapps.kibaship.com
  # Port for ingress routing
  port: 3000
  # Type of domain (default for auto-generated, custom for user-defined)
  type: default
  # Whether this is the default domain for the application
  default: true
  # Whether TLS/SSL is enabled
  tlsEnabled: true
---
# Example of a custom domain (future use case)
apiVersion: platform.operator.kibaship.com/v1alpha1
kind: ApplicationDomain
metadata:
  labels:
    app.kubernetes.io/name: kibaship-operator
    app.kubernetes.io/managed-by: kustomize
    platform.operator.kibaship.com/application: project-myproject-app-frontend-kibaship-com
    platform.operator.kibaship.com/domain-type: custom
    platform.kibaship.com/uuid: 456e7890-f12c-34e5-b678-90123456789a
    platform.kibaship.com/project-uuid: 987fcdeb-51a2-43d7-8f9e-d2c3b4a5e6f7
  name: project-myproject-app-frontend-kibaship-com-custom-xyz789
  namespace: myproject-dev
spec:
  # Reference to the parent Application
  applicationRef:
    name: project-myproject-app-frontend-kibaship-com
  # Custom domain provided by user
  domain: frontend.mycustomdomain.com
  # Port for ingress routing
  port: 3000
  # Type of domain (custom for user-defined domains)
  type: custom
  # Whether this is the default domain for the application (only one default allowed)
  default: false
  # Whether TLS/SSL is enabled
  tlsEnabled: true